<app-bread-crumb [pageName]="'Available Vehicles'"></app-bread-crumb>
<div class="container">
  <div>
    <div class="row">
      <div class="col-sm-12">
        <div class="row">
          <div class="col-sm-12">
            <div class="alert alert-warning" *ngIf="!isError && availableVehicles.length == 0">
              <!-- if there is no error but result generated no data  -->
              <h5 class="alert-heading">Vehicles Not Found</h5>
              There are no vehicles available for the period you wish to rent for
            </div>
            <div class="alert alert-danger" *ngIf="isError && availableVehicles.length == 0">
              <!-- an error occured while retrieveing the data -->
              <h5 class="alert-heading">Vehicle Not Found</h5>
              We ran into an error retrieving the vehicles. Please try again.
            </div>
          </div>
        </div>
        <div class="row mb-5 p-3"
          style="box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px; border-radius: 5px;">
          <div class="col-sm-12">
            <div class="row">
              <div class="col-sm-12">
                <h5 class="alert-heading">Lets Find Your Ideal Vehicle</h5>
                <hr>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-8">
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label class="fonts">Selected Pickup Date & Time</label>
                      <div class="badge badge-info" style="font-size: 16px;">
                        Starting on <span class="fonts">{{theFilterInformation.pickupDate | date}}</span> at
                        <span class="fonts">{{theFilterInformation.pickupTime}}</span>
                      </div>
                    </div>
                  </div>

                  <div class="col-sm-6">
                    <div class="form-group">
                      <label class="fonts">Selected Return Date & Time</label>
                      <div class="badge badge-info" style="font-size: 16px;">
                        Ending on <span class="fonts">{{theFilterInformation.returnDate | date}}</span> at
                        <span class="fonts">{{theFilterInformation.returnTime}}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-4 align-self-center">
                <button class="btn btn-primary float-right" (click)="reOpenFilterDates()">Find Vehicles For Another
                  Period</button>
              </div>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="!isError">
          <!-- no error found, go ahead and show data -->
          <div class="col-sm-4">
            <p>filter component works</p>
          </div>
          <div class="col-sm-8">
            <ngx-spinner type="ball-clip-rotate" size="medium" [name]="'filterSpinner'" [fullScreen]="false"
              [bdColor]="'none'" [color]="'black'">
            </ngx-spinner>
            <div *ngIf="availableVehicles.length> 0;">
              <!-- data successfully retrieved -->
              <div class="row" style="max-height: 750px; overflow: auto;">
                <div class="col-sm-6" *ngFor="let vehicle of availableVehicles">
                  <app-vehicle-card [vehicleToRender]="vehicle"></app-vehicle-card>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
